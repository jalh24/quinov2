<form style="background: #00D8D6; background: linear-gradient(to right, #00D8D6, #6EC1E4);" #myForm="ngForm">
    <ngb-toast-container></ngb-toast-container>
    <mat-tab-group mat-align-tabs="center" [selectedIndex]="selected.value" (selectedIndexChange)="selected.setValue($event)">
        <mat-tab label="Cotizador">
            <div class="container mt-5 pt-4 pb-4 bg-white rounded-top shadow">
                <h3 class="text-center">Cotizador de Servicios</h3>
                <hr class="py-1" />
                <div class="form-group row mt-4 mb-4">
                    <label for="cuidador" class="col-md-3 col-form-label">CUIDADOR (A)</label>
                    <div class="col-md-2">
                        <input type="number" class="form-control valGlobal" id="cuidador" name="cuidador" ngModel #cuidador="ngModel" [(ngModel)]="cotizadorInternoServicio.cuidador">                    
                    </div>
                    <div class="col-md-1">
                        0 = NO
                        <br>
                        1 = SI
                    </div>
                    <div class="col-md-1">
                        <fa-icon [icon]="faArrowRight"></fa-icon>
                    </div>
                    <label for="noHorasCuidador" class="col-md-3 col-form-label">No. DE HORAS DE TURNO</label>
                    <div class="col-md-2">
                        <input type="number" class="form-control valGlobal" id="noHorasCuidador" name="noHorasCuidador" ngModel #noHorasCuidador="ngModel" [(ngModel)]="cotizadorInternoServicio.noHorasCuidador">                    
                    </div>
                </div>
                <div class="form-group row mb-4">
                    <label for="enfermero" class="col-md-3 col-form-label">ENFERMERO (A)</label>
                    <div class="col-md-2">
                        <input type="number" class="form-control valGlobal" id="enfermero" name="enfermero" ngModel #enfermero="ngModel" [(ngModel)]="cotizadorInternoServicio.enfermero">                    
                    </div>
                    <div class="col-md-1">
                        0 = NO
                        <br>
                        1 = SI
                    </div>
                    <div class="col-md-1">
                        <fa-icon [icon]="faArrowRight"></fa-icon>
                    </div>
                    <label for="noHorasEnfermero" class="col-md-3 col-form-label">No. DE HORAS DE TURNO</label>
                    <div class="col-md-2">
                        <input type="number" class="form-control valGlobal" id="noHorasEnfermero" name="noHorasEnfermero" ngModel #noHorasEnfermero="ngModel" [(ngModel)]="cotizadorInternoServicio.noHorasEnfermero">                    
                    </div>
                </div>
                <div class="form-group row mb-4">
                    <label for="enfermeroCovid" class="col-md-3 col-form-label">ENFERMERO (A) COVID</label>
                    <div class="col-md-2">
                        <input type="number" class="form-control valGlobal" id="enfermeroCovid" name="enfermeroCovid" ngModel #enfermeroCovid="ngModel" [(ngModel)]="cotizadorInternoServicio.enfermeroCovid">                    
                    </div>
                    <div class="col-md-1">
                        0 = NO
                        <br>
                        1 = SI
                    </div>
                    <div class="col-md-1">
                        <fa-icon [icon]="faArrowRight"></fa-icon>
                    </div>
                    <label for="noHorasEnfermeroCovid" class="col-md-3 col-form-label">No. DE HORAS DE TURNO</label>
                    <div class="col-md-2">
                        <input type="number" class="form-control valGlobal" id="noHorasEnfermeroCovid" name="noHorasEnfermeroCovid" ngModel #noHorasEnfermeroCovid="ngModel" [(ngModel)]="cotizadorInternoServicio.noHorasEnfermeroCovid">                    
                    </div>
                </div>
                <hr class="py-1" />
                <div class="form-group row mt-4 mb-4">
                    <label for="noDias" class="col-md-3 col-form-label">No. DE DIAS CONTRATADO</label>
                    <div class="col-md-2">
                        <input type="number" class="form-control valGlobal" id="noDias" name="noDias" ngModel #noDias="ngModel" [(ngModel)]="cotizadorInternoServicio.noDias">                    
                    </div>
                    <div class="col-md-7"></div>
                </div>
                <div class="form-group row mb-4">
                    <label for="domingo" class="col-md-3 col-form-label">多TRABAJA EN DOMINGO?</label>
                    <div class="col-md-2">
                        <input type="number" class="form-control valGlobal" id="domingo" name="domingo" ngModel #domingo="ngModel" [(ngModel)]="cotizadorInternoServicio.domingo">                    
                    </div>
                    <div class="col-md-1">
                        0 = NO
                        <br>
                        1 = SI
                    </div>
                    <div class="col-md-6"></div>
                </div>
                <div class="form-group row mb-4">
                    <label for="asueto" class="col-md-3 col-form-label">多TRABAJA EN ASUETO?</label>
                    <div class="col-md-2">
                        <input type="number" class="form-control valGlobal" id="asueto" name="asueto" ngModel #asueto="ngModel" [(ngModel)]="cotizadorInternoServicio.asueto">                    
                    </div>
                    <div class="col-md-1">
                        0 = NO
                        <br>
                        1 = SI
                    </div>
                    <div class="col-md-6"></div>
                </div>
                <div class="form-group row mb-4">
                    <label for="hospital" class="col-md-3 col-form-label">多SERVICIO EN HOSPITAL?</label>
                    <div class="col-md-2">
                        <input type="number" class="form-control valGlobal" id="hospital" name="hospital" ngModel #hospital="ngModel" [(ngModel)]="cotizadorInternoServicio.hospital">                    
                    </div>
                    <div class="col-md-1">
                        0 = NO
                        <br>
                        1 = SI
                    </div>
                    <div class="col-md-6"></div>
                </div>
                <div class="form-group row mb-4">
                    <label for="servicioFuera" class="col-md-3 col-form-label">多SERVICIO EN SAN PEDRO / CARR. NACIONAL?</label>
                    <div class="col-md-2">
                        <input type="number" class="form-control valGlobal" id="servicioFuera" name="servicioFuera" ngModel #servicioFuera="ngModel" [(ngModel)]="cotizadorInternoServicio.servicioFuera">                    
                    </div>
                    <div class="col-md-1">
                        0 = NO
                        <br>
                        1 = SI
                    </div>
                    <div class="col-md-1">
                        <fa-icon [icon]="faArrowRight"></fa-icon>
                    </div>
                    <label for="noTaxis" class="col-md-3 col-form-label">No. DE TAXIS</label>
                    <div class="col-md-2">
                        <input type="number" class="form-control valGlobal" id="noTaxis" name="noTaxis" ngModel #noTaxis="ngModel" [(ngModel)]="cotizadorInternoServicio.noTaxis">                    
                    </div>
                </div>
                <hr class="py-1" />
                <!-- <div class="container" *ngIf="cotizarClick"><div class="row mt-4 pb-4">
                    <div class="col-md-3" style="font-size: 111%;">PRECIO DE VENTA (BARATO)</div>
                    <div class="col-md-2" style="font-size: 111%; font-weight: bold;">{{cotizadorInternoServicio.cotizacionBaja | currency}}</div>
                    <div class="col-md-3" style="font-size: 111%;">PRECIO DE VENTA X DIA</div>
                    <div class="col-md-2" style="font-size: 111%; font-weight: bold;">{{cotizadorInternoServicio.porDiaBaja | currency}}</div>
                </div>
                <div class="row mt-4 pb-4">
                    <div class="col-md-3" style="font-size: 111%;">PRECIO DE VENTA (MEDIO)</div>
                    <div class="col-md-2" style="font-size: 111%; font-weight: bold;">{{cotizadorInternoServicio.cotizacionMedia | currency}}</div>
                    <div class="col-md-3" style="font-size: 111%;">PRECIO DE VENTA X DIA</div>
                    <div class="col-md-2" style="font-size: 111%; font-weight: bold;">{{cotizadorInternoServicio.porDiaMedia | currency}}</div>
                </div>
                <div class="row mt-4 pb-4">
                    <div class="col-md-3" style="font-size: 111%;">PRECIO DE VENTA (CARO)</div>
                    <div class="col-md-2" style="font-size: 111%; font-weight: bold;">{{cotizadorInternoServicio.cotizacionAlta | currency}}</div>
                    <div class="col-md-3" style="font-size: 111%;">PRECIO DE VENTA X DIA</div>
                    <div class="col-md-2" style="font-size: 111%; font-weight: bold;">{{cotizadorInternoServicio.porDiaAlta | currency}}</div>
                </div>
            </div> -->
            <mat-accordion *ngIf="cotizarClick">
                <!-- #enddocregion basic-panel -->
                  <mat-expansion-panel (opened)="panelOpenState = true"
                                       (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                      <mat-panel-title style="font-size: 111%;">
                        PRECIO DE VENTA (BARATO)
                      </mat-panel-title>
                      <mat-panel-description style="font-size: 111%;">
                        {{cotizadorInternoServicio.cotizacionBaja | currency}}
                      </mat-panel-description>
                    </mat-expansion-panel-header>
                    <table class="table table-bordered">
                        <tbody>
                            <tr>
                                <th></th>
                                <th style="font-size: 111%;">TOTAL</th>
                                <th style="font-size: 111%;">X DIA</th>
                            </tr>
                            <tr>
                                <th scope="row" style="font-size: 111%;">PAGO A PERSONAL</th>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.pagoPersonalBaja | currency}}</td>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.pagoPersonalPorDiaBaja | currency}}</td>
                            </tr>
 
                        </tbody>
                      </table>
                      <table class="table table-bordered">
                        <tbody>
                            <tr>
                                <th></th>
                                <th style="font-size: 111%;">TOTAL</th>
                                <th style="font-size: 111%;">X DIA</th>
                            </tr>
                            <tr>
                                <th scope="row" style="font-size: 111%;">COSTO DIRECTO</th>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.costoDirectoBaja | currency}}</td>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.costoDirectoPorDiaBaja | currency}}</td>
                            </tr>
 
                        </tbody>
                      </table>
                    <table class="table table-bordered">
                        <tbody>
                            <tr>
                                <th></th>
                                <th style="font-size: 111%;">TOTAL</th>
                                <th style="font-size: 111%;">X DIA</th>
                                <th style="font-size: 111%;">MARGEN BRUTO</th>
                            </tr>
                            <tr>
                                <th scope="row" style="font-size: 111%;">PRECIO DE VENTA</th>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.cotizacionBaja | currency}}</td>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.porDiaBaja | currency}}</td>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.margenBaja | percent:'2.1-1'}}</td>
                            </tr>
 
                        </tbody>
                      </table>
                  </mat-expansion-panel>

                  <mat-expansion-panel (opened)="panelOpenState = true"
                                       (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                      <mat-panel-title style="font-size: 111%;">
                        PRECIO DE VENTA (MEDIO)
                      </mat-panel-title>
                      <mat-panel-description style="font-size: 111%;">
                        {{cotizadorInternoServicio.cotizacionMedia | currency}}
                      </mat-panel-description>
                    </mat-expansion-panel-header>
                    <table class="table table-bordered">
                        <tbody>
                            <tr>
                                <th></th>
                                <th style="font-size: 111%;">TOTAL</th>
                                <th style="font-size: 111%;">X DIA</th>
                            </tr>
                            <tr>
                                <th scope="row" style="font-size: 111%;">PAGO A PERSONAL</th>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.pagoPersonalMedia | currency}}</td>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.pagoPersonalPorDiaMedia | currency}}</td>
                            </tr>
 
                        </tbody>
                      </table>
                      <table class="table table-bordered">
                        <tbody>
                            <tr>
                                <th></th>
                                <th style="font-size: 111%;">TOTAL</th>
                                <th style="font-size: 111%;">X DIA</th>
                            </tr>
                            <tr>
                                <th scope="row" style="font-size: 111%;">COSTO DIRECTO</th>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.costoDirectoMedia | currency}}</td>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.costoDirectoPorDiaMedia | currency}}</td>
                            </tr>
 
                        </tbody>
                      </table>
                    <table class="table table-bordered">
                        <tbody>
                            <tr>
                                <th></th>
                                <th style="font-size: 111%;">TOTAL</th>
                                <th style="font-size: 111%;">X DIA</th>
                                <th style="font-size: 111%;">MARGEN BRUTO</th>
                            </tr>
                            <tr>
                                <th scope="row">PRECIO DE VENTA</th>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.cotizacionMedia | currency}}</td>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.porDiaMedia | currency}}</td>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.margenMedia | percent:'2.1-1'}}</td>
                            </tr>
 
                        </tbody>
                      </table>
                  </mat-expansion-panel>

                  <mat-expansion-panel (opened)="panelOpenState = true"
                                       (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                      <mat-panel-title style="font-size: 111%;">
                        PRECIO DE VENTA (CARO)
                      </mat-panel-title>
                      <mat-panel-description style="font-size: 111%;">
                        {{cotizadorInternoServicio.cotizacionAlta | currency}}
                      </mat-panel-description>
                    </mat-expansion-panel-header>
                    <table class="table table-bordered">
                        <tbody>
                            <tr>
                                <th></th>
                                <th style="font-size: 111%;">TOTAL</th>
                                <th style="font-size: 111%;">X DIA</th>
                            </tr>
                            <tr>
                                <th scope="row" style="font-size: 111%;">PAGO A PERSONAL</th>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.pagoPersonalAlta | currency}}</td>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.pagoPersonalPorDiaAlta | currency}}</td>
                            </tr>
 
                        </tbody>
                      </table>
                      <table class="table table-bordered">
                        <tbody>
                            <tr>
                                <th></th>
                                <th style="font-size: 111%;">TOTAL</th>
                                <th style="font-size: 111%;">X DIA</th>
                            </tr>
                            <tr>
                                <th scope="row" style="font-size: 111%;">COSTO DIRECTO</th>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.costoDirectoAlta | currency}}</td>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.costoDirectoPorDiaAlta | currency}}</td>
                            </tr>
 
                        </tbody>
                      </table>
                    <table class="table table-bordered">
                        <tbody>
                            <tr>
                                <th></th>
                                <th style="font-size: 111%;">TOTAL</th>
                                <th style="font-size: 111%;">X DIA</th>
                                <th style="font-size: 111%;">MARGEN BRUTO</th>
                            </tr>
                            <tr>
                                <th scope="row" style="font-size: 111%;">PRECIO DE VENTA</th>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.cotizacionAlta | currency}}</td>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.porDiaAlta | currency}}</td>
                                <td style="font-size: 111%;">{{cotizadorInternoServicio.margenAlta | percent:'2.1-1'}}</td>
                            </tr>
 
                        </tbody>
                      </table>
                  </mat-expansion-panel>
                </mat-accordion>
                
            </div>
        </mat-tab>
    </mat-tab-group>
    <div class="container bg-white rounded-bottom shadow">
      <div class="row text-center pb-4">
        <div class="col">
          <button type="button" class="btn btn-primary" (click)="onCotizar()"> Cotizar </button>
        </div>
      </div>
    </div>
</form>